<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/Recovery+Job+Wizard+for+VMware_+Backups.css" rel="stylesheet" />
    </head>
    <body>
        <h1>Recovery Job Wizard for VMware: Options</h1>
        <p>On the <b>Options</b> page of the wizard, set the recovery job options.&#160;</p>
        <ul class="ul_2">
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-JobO">Job Options</a>
                </p>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Reco">Recovery Options</a>
                </p>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Prea">Pre and Post Actions</a> </p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Sett">Setting a Pre-Job Script</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Sett">Setting a Post-Job Script</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Emai">Email Notifications</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Data">Data Transfer</a> </p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Tran">Transport Mode</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Tran">Transporters</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Tran">Transporter Load</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Band">Bandwidth Throttling</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+VMware_+Options.doc#RecoveryJobWizardforVMware:Options-Comp">Completing the New Recovery Job Wizard for VMware</a>
                </p>
            </li>
        </ul>
        <h2>Job Options</h2>
        <p>Specify the general options as follows:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1"><b>Job name</b>: Specify a name for the recovery job.</p>
            </li>
            <li class="li_1">
                <p class="p_1"><b>Network acceleration</b>:<b>&#160;</b>With <a href="C:\display\NH\Network+Acceleration">network acceleration</a> enabled, NAKIVO Backup &amp; Replication uses compression and traffic reduction techniques to speed up data transfer. Enable this option if you plan to recover VMs over WAN or slow LAN links.</p>
            </li>
            <li class="li_1">
                <p class="p_1"><b>Encryption</b>: With <a href="C:\display\NH\Encryption+in+Flight+and+at+Rest">encryption</a> enabled, VM data is protected with AES 256 encryption while traveling over the network. Data encryption increases the backup time and CPU load on machines running Transporters. Select this option when recovering over WAN without a VPN connection.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+VMware_+Options/Recovery Job Wizard for VMware_2.png" class="img_6" /></p>
            </li>
        </ol>
        <h2>Recovery Options</h2>
        <p>Specify the recovery options as follows:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1"><b>Recovery mode</b>:<b>&#160;</b>Choose one of the following:</p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><b>Synthetic</b>: With this recovery mode, the VMs are recovered with the environmental dependencies (such as CPU affinity) removed. Select this option when recovering VMs to a new location.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Production</b>:<b>&#160;</b>With this recovery mode, environment dependencies are preserved on recovered VMs. Make sure the location to which the VMs are recovered does not contain the original VMs, otherwise, UUID and MAC address conflicts may occur.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><b>Recovered VM names</b>:<b>&#160;</b>Choose one of the following:</p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><b>Append "-recovered" in the end</b>: Source VM names are used for recovered VM names and “-recoverd”&#160;is added after the name of the recovered VMs.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Leave recovered VM names as is</b>: Recovered VM names are identical to the source VM names.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Enter custom recovered VM names</b>: You can enter custom names for recovered VMs.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><b>VM disks</b>:<b>&#160;</b>Choose one of the following:</p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><b>Respect original VM disk type</b>:<b>&#160;</b>When specified, disks that respect the original VM disk type are created on target VMs. Select this option to recover VMs to their original location.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Create only thin disks on target VMs</b>: When specified, only thin disks are created on target VMs. Use this option to save space on the target datastore.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><b>VM MAC addresses</b>: Choose one of the following:</p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><b>Do not generate new MAC addresses</b>: When this option is selected, the recovered VM&#160;has the same MAC address as the source VM.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Generate new MAC addresses</b>: When this option is selected, a new MAC address is generated for the recovered VM.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><b>VM power on</b>: When the&#160;<b>Power on recovered VMs</b>&#160;option is selected, the recovered VMs are powered on.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+VMware_+Options/Recovery Job Wizard for VMware_2_1.png" class="img_6" /></p>
            </li>
        </ol>
        <h2>Pre and Post Actions</h2>
        <p>NAKIVO Backup &amp; Replication allows you to <a href="C:\display\NH\Pre+and+Post+Job+Scripts">run a script</a> before VM recovery begins (a pre-job script) and after the recovery of all VMs in the job has completed (a post-job script). The scripts can only be executed on the machine&#160;on which the Director is installed.&#160;</p>
        <h3>Setting a Pre-Job Script</h3>
        <p>To run a script before the product begins recovering VMs, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Place a script file on the machine on which the Director is installed.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Select the&#160;<b>Run local pre job script</b>&#160;option and click the&#160;<b>settings</b>&#160;link.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify the following parameters in the dialog box that opens:</p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><b>Script path</b>: Specify a local path to the script on the machine on which the Director is installed. A script interpreter should be specified.&#160;<br /><br /><b>Example (Windows)</b>:&#160;<cite>cmd.exe /c D:\script.bat</cite><span class="span_2"><br /></span><b>Example (Linux)</b>:&#160;<cite>bash /root/script.sh</cite></p>
                    </li>
                </ul>
            </li>
            <ul class="ul_4">
                <li class="li_1">
                    <p class="p_1"><b>Job behavior</b>: Choose one of the following job behaviors in relation to script completion:</p>
                    <ul class="ul_3">
                        <li class="li_1">
                            <p class="p_1"><b>Wait for the script to finish</b>:<b>&#160;</b>With this option selected, VM backup is started only after the script is completed.</p>
                        </li>
                        <li class="li_1">
                            <p class="p_1"><b>Do not wait for the script to finish</b>:<b>&#160;</b>With this option selected, the product runs the script and starts backing up VMs at the same time.</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="ul_4">
                <li class="li_1">
                    <p class="p_1"><b>Error handling</b>: Choose one of the following job behaviors in relation to script failure:</p>
                    <ul class="ul_3">
                        <li class="li_1">
                            <p class="p_1"><b>Continue the job on script failure</b>:<b>&#160;</b>With this option selected, the job&#160;performs VM backup even if the script has failed.</p>
                        </li>
                        <li class="li_1">
                            <p class="p_1"><b>Fail the job on script failure</b>:&#160;With this option selected, if the script fails, the job is failed and VM backup is not performed.</p>
                        </li>
                    </ul>
                </li>
            </ul>
        </ol>
        <h3>Setting a Post-Job Script</h3>
        <p>To run a script after the product has finished backing up all VMs, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Place a script file on the machine on which the Director is installed.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Select the&#160;<b>Run local post job script</b>&#160;option and click the&#160;<b>settings</b>&#160;link.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify the following parameters in the dialog box that opens:</p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1"><b>Script path</b>: Specify a local path to the script on the machine on which the Director is installed. A script interpreter should be specified.&#160;<br /><br /><b>Example (Windows)</b>:&#160;<cite>cmd.exe /c D:\script.bat</cite><span class="span_2"><br /></span><b>Example (Linux)</b>:&#160;<cite>bash /root/script.sh</cite></p>
                    </li>
                </ul>
            </li>
            <ul class="ul_4">
                <li class="li_1">
                    <p class="p_1"><b>Job behavior</b>: Choose one of the following job behaviors in relation to script completion:</p>
                    <ul class="ul_3">
                        <li class="li_1">
                            <p class="p_1"><b>Wait for the script to finish</b>:<b>&#160;</b>With this option selected, the job&#160;is in the “running” state until the script is completed.</p>
                        </li>
                        <li class="li_1">
                            <p class="p_1"><b>Do not wait for the script to finish</b>: With this option selected, the job&#160;is completed even if the script execution is still in progress.</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul class="ul_4">
                <li class="li_1">
                    <p class="p_1"><b>Error handling</b>: Choose one of the following job behaviors in relation to script failure:</p>
                    <ul class="ul_3">
                        <li class="li_1">
                            <p class="p_1"><b>Continue the job on script failure</b>:<b>&#160;</b>With this option selected, script failure does not influence the status of the job.</p>
                        </li>
                        <li class="li_1">
                            <p class="p_1"><b>Fail the job on script failure</b>:<b>&#160;</b>With this option selected, if the script fails, the job status&#160;is&#160;set to “failed” even if VM backup is successful.</p>
                        </li>
                    </ul>
                </li>
            </ul>
        </ol>
        <h3>Email Notifications</h3>
        <p>NAKIVO Backup &amp; Replication can send email notifications about job completion status to specified recipients. This feature complements <a href="C:\display\NH\Email+Notifications">global notifications</a>&#160;and allows you to configure notifications on a per-job level.</p>
        <p>To enable this option, make sure that&#160;<a href="C:\display\NH\Email+Notifications">Email settings&#160;</a>are configured.</p>
        <p>To send email notifications, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">In the <cite>Pre and Post Actions</cite> section, select the <b>Send job run reports to.</b></p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify one or more email addresses in the text box. Use semicolons to separate multiple email addresses.</p>
            </li>
        </ol>
        <p>
            <img src="../../../Resources/Images/Recovery+Job+Wizard+for+VMware_+Options/Recovery Job Wizard for VMware_2_2.png" class="img_6" />
        </p>
        <h2>Data Transfer</h2>
        <p>In the<cite> Data Transfer</cite> section, choose a transport mode for writing VM data, select which Transporter to be used for reading data from the source VM, and set <a href="C:\display\NH\Bandwidth+Throttling">bandwidth throttling</a>.</p>
        <h3><b class="b_1">Transport Mode</b>
        </h3>
        <p>NAKIVO Backup &amp; Replication provides the following transport modes for writing VM data:</p>
        <ul class="ul_2">
            <li class="li_1">
                <p class="p_1"><b>Hot Add only</b>: NAKIVO Backup &amp; Replication can write data directly to the datastore, bypassing the network, which can significantly improve job performance. This is achieved with the help of VMware's <a href="https://beta-helpcenter.nakivo.com/display/NH/Hot+Add+for+VMware">Hot Add technology</a>. In order for the Hot Add feature to work, the target Transporter (the one that will be writing data ) should run on a host that has access to the target datastore(s).</p>
            </li>
            <li class="li_1">
                <p class="p_1"><b>LAN only</b>: Data will be written over LAN.</p>
            </li>
            <li class="li_1">
                <p class="p_1"><b>Automatic</b>: When this option is chosen, Hot Add mode is used where possible. If the product cannot use Hot Add, LAN mode is used.</p>
            </li>
        </ul>
        <h3><b class="b_1">Transporters</b>
        </h3>
        <p>By default, the product automatically determines which Transporter should be used to read data from the source VM. However, you can manually specify which Transporters should be used for the job:</p>
        <ul class="ul_2">
            <li class="li_1">
                <p class="p_1"><b>Automatic selection</b>: The product automatically determines the Transporters that are closest to the source and target hosts.</p>
            </li>
            <li class="li_1">
                <p class="p_1"><b>Manual - configured for all VMs</b>: Select this option to manually specify a single source and a single target Transporter to be used for data transfer by the job.</p>
            </li>
            <li class="li_1">
                <p class="p_1"><b>Manual - configured per host</b>: Select this option to manually specify Transporters for all source and target hosts.</p>
            </li>
        </ul>
        <h3 class="h3_1">Transporter Load</h3>
        <p>You can limit the maximum number of transporter tasks used by the job. By default, this number is set to 3 concurrent tasks.</p>
        <p>To change the default number of tasks, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">In the&#160;<b>Data Transfer</b>&#160;section, select the&#160;<b>Limit transporter load to&#160;</b>checkbox.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify the number of concurrent tasks in the corresponding box.</p>
            </li>
        </ol>
        <h3>Bandwidth Throttling</h3>
        <p>Follow the steps&#160;below to set the speed of data transfer over the network for your recovery job:</p>
        <ol start="1" class="ol_1">
            <li>
                <p>For the&#160;<b>Bandwidth throttling</b>&#160;option, choose&#160;<b>Enabled</b>.</p>
                <p>Note</p>
                <p>If bandwidth throttling is disabled for the current job, global bandwidth rules may still apply to your job. Refer to&#160;<a href="C:\display\NH\Bandwidth+Throttling">Bandwidth Throttling</a>&#160;for details.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Click the&#160;<b>Settings</b>&#160;link that becomes available.</p>
            </li>
            <li class="li_1">
                <p class="p_1">The&#160;<b>Job Bandwidth Rules</b>&#160;dialog box opens displaying the list of available rules. You have the following options: </p>
                <ul class="ul_1">
                    <li class="li_1">
                        <p class="p_1">Create a new bandwidth rule for your recovery job: </p>
                        <ol start="1" class="ol_1">
                            <li class="li_1">
                                <p class="p_1">Click the&#160;<b>Create New Rule</b>&#160;button.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">The&#160;<b>New Bandwidth Rule</b>&#160;dialog box opens. Refer to the&#160;<a href="C:\display\NH\Bandwidth+Throttling">Bandwidth Throttling</a>&#160;topic for details on creating a bandwidth rule.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">Click&#160;<b>Save</b>.</p>
                            </li>
                        </ol>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Activate an existing bandwidth rule for your job</b>: Select the checkbox to the left of the required bandwidth rule. To deactivate a bandwidth rule for your job, deselect the corresponding checkbox.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Edit a bandwidth rule:</b>&#160;Click the&#160;<b>Edit</b>&#160;link for a bandwidth rule and modify it in the&#160;<b>Edit Bandwidth Rule</b>&#160;dialog box that opens.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><b>Disable a bandwidth rule:</b>&#160;Click the&#160;<b>Disable</b>&#160;link. The bandwidth rule&#160;is&#160;disabled for all jobs.</p>
                    </li>
                    <li class="li_3">
                        <p class="p_3"><b>Remove a bandwidth rule</b>: Click the&#160;<b>Remove</b>&#160;link and then click&#160;<b>Delete</b>&#160;to confirm your operation.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+VMware_+Options/Recovery Job Wizard for VMware_2_3.png" class="img_7" /></p>
                    </li>
                </ul>
            </li>
        </ol>
        <p>&#160;</p>
        <h2>Completing the New Recovery Job Wizard for VMware</h2>
        <p>Click&#160;<b>Finish</b>&#160;or&#160;<b>Finish &amp; Run</b>&#160;to complete the job creation.</p>
        <p>Note</p>
        <p>If you click <b>Finish &amp; Run</b>, you will have to define the scope of your job. Refer to <a href="C:\display\NH\Running+Jobs+on+Demand">Running Jobs on Demand</a> for details.</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
        <p>&#160;</p>
    </body>
</html>