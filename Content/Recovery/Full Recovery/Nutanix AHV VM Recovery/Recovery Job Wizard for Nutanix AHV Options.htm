<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/Nutanix+AHV+VM+Recovery.css" rel="stylesheet" />
    </head>
    <body>
        <h1>Recovery Job Wizard for Nutanix AHV: Options</h1>
        <p>On the Options page, set up the recovery job options.&#160;</p>
        <ul style="padding-left: 0px;list-style-type: disc;margin-left: 36pt;">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">General Options</a>
                </p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Recovered VM Options</a>
                </p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Pre and Post Actions</a> </p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Email Notifications</a>
                        </p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Setting Up a Pre Job Script</a>
                        </p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Setting Up a Post Job Script</a>
                        </p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Transporters</a>
                        </p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Bandwidth Throttling</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Nutanix+AHV_+Options.doc#RecoveryJobWizardforNutanixAHV:Options-">Completing the New Recovery Job Wizard for Nutanix AHV</a>
                </p>
            </li>
        </ul>
        <h2>General Options</h2>
        <p>Specify the general options as follows:</p>
        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Job name: Specify a name for the recovery job.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Network acceleration:&#160;When <a href="C:\display\NH\Network+Acceleration">network acceleration</a> is enabled, NAKIVO Backup &amp; Replication uses compression and traffic reduction techniques to speed up data transfer. Enable this option if recovering VMs over WAN or slow LAN links.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Encryption: When <a href="C:\display\NH\Encryption+in+Flight+and+at+Rest">encryption</a> is enabled, VM data is protected with AES 256 encryption while traveling over the network. Data encryption increases the backup time and CPU load on the machines running Transporters. Select this option when recovering over WAN without a VPN connection.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+Nutanix+AHV_+Options/Recovery Job Wizard for Nutanix_2.png" style="visibility: visible;mso-wrap-style: square;width: 469px;height: 268px;" /></p>
            </li>
        </ol>
        <h2>Recovered VM Options</h2>
        <p>Specify the recovery options as follows:</p>
        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Recovery mode:&#160;Choose one of the following: </p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Synthetic: With the synthetic recovery mode selected, the VMs are recovered with the environmental dependencies (such as CPU Affinity) removed. Select this option when recovering VMs to a new location.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Production:&#160;With the production recovery mode selected, environment dependencies are preserved on the recovered VM(s). Make sure the location where the VM(s) will be recovered does not contain the original VM(s), otherwise UUID and MAC address conflicts may occur.</p>
                    </li>
                </ul>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Recovered VM names:&#160;Choose one of the following: </p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Append "-recovered" in the end: Source VM names are used for recovered VM names and “-recovered” is added after the recovered VM name.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Leave recovered VM names as is: Recovered VM names are identical to the source VM names.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Enter custom recovered VM names: Allows you to enter custom names for recovered VMs.</p>
                    </li>
                </ul>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">VM power on: When the&#160;Power on recovered VMs&#160;option is chosen, the recovered VMs are powered on.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">VM MAC addresses: Choose one of the following: </p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Do not generate new MAC addresses: When this option is chosen, the recovered VM will have the same MAC address as the source VM.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Generate new MAC addresses: When this option is chosen, a new MAC address will be generated for the recovered VM.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+Nutanix+AHV_+Options/Recovery Job Wizard for Nutanix_2_1.png" style="visibility: visible;mso-wrap-style: square;width: 469px;height: 268px;" /></p>
                        <p>&#160;</p>
                    </li>
                </ul>
            </li>
        </ol>
        <h2>Pre and Post Actions</h2>
        <p>NAKIVO Backup &amp; Replication allows you to <a href="C:\display\NH\Pre+and+Post+Job+Scripts">run a script</a> before VM recovery begins (a pre-job script) and after the recovery of all VMs in the job has completed (a post-job script). The scripts can only be executed on the machine where the Director is installed.&#160;</p>
        <h3>Email Notifications</h3>
        <p>NAKIVO Backup &amp; Replication can send email notifications about the job completion status to specified recipients. This feature&#160;complements&#160;<a href="C:\display\NH\Email+Notifications">global notifications</a>&#160;and allows you to configure notifications on a per-job level.</p>
        <p>To enable this option, make sure that&#160;<a href="C:\display\NH\Email+Notifications">Email settings&#160;</a>are configured.</p>
        <p>&#160;</p>
        <p>To send email notifications, in the&#160;Pre and Post Actions&#160;section:</p>
        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Select the&#160;Send job run reports to&#160;option.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Specify one or more email addresses in the text box. Use semicolons to separate multiple email addresses.</p>
            </li>
        </ol>
        <h3>Setting Up a Pre Job Script</h3>
        <p>To run a script before the product begins recovering VMs, do the following:</p>
        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Place a script file on the machine where the Director is installed.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Select the&#160;Run local pre job script&#160;option and click the&#160;settings&#160;link.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Specify the following parameters in the dialog box that opens:</p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Script path: Specify a local path to the script on the machine where the Director is installed. A script interpreter should be specified.&#160;<br />Example (Windows):&#160;cmd.exe /c D:\script.bat<span style="font-style: italic;"><br /></span>Example (Linux):&#160;bash /root/script.sh</p>
                    </li>
                </ul>
            </li>
            <ul style="padding-left: 0px;list-style-type: circle;margin-left: 72pt;">
                <li style="margin-top: 5pt;margin-bottom: 5pt;">
                    <p style="margin-top: 5pt;margin-bottom: 5pt;">Job behavior: Choose one of the following job behaviors in relation to script completion:</p>
                    <ul style="padding-left: 0px;list-style-type: square;margin-left: 36pt;">
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Wait for the script to finish:&#160;With this option selected, VM backup only starts after the script is completed.</p>
                        </li>
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Do not wait for the script to finish:&#160;With this option selected, the product runs the script and starts recovering VMs at the same time.</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul style="padding-left: 0px;list-style-type: circle;margin-left: 72pt;">
                <li style="margin-top: 5pt;margin-bottom: 5pt;">
                    <p style="margin-top: 5pt;margin-bottom: 5pt;">Error handling: Choose one of the following job behaviors in relation to script failure:</p>
                    <ul style="padding-left: 0px;list-style-type: square;margin-left: 36pt;">
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Continue the job on script failure:&#160;With this option selected, the job will recover VMs even if the script has failed.</p>
                        </li>
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Fail the job on script failure:&#160;With this option selected, if the script fails, the job will be failed and VM recovery will not be performed.</p>
                        </li>
                    </ul>
                </li>
            </ul>
        </ol>
        <h3>Setting Up a Post Job Script</h3>
        <p>To run a script after the product has finished recovering all VMs, do the following:</p>
        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Place a script file on the machine where the Director is installed.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Select the&#160;Run local post job script&#160;option and click the&#160;settings&#160;link.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Specify the following parameters in the dialog that appears:</p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Script path: Specify a local path to the script on the machine where the Director is installed. A script interpreter should be specified.&#160;<br />Example (Windows):&#160;cmd.exe /c D:\script.bat<span style="font-style: italic;"><br /></span>Example (Linux):&#160;bash /root/script.sh</p>
                    </li>
                </ul>
            </li>
            <ul style="padding-left: 0px;list-style-type: circle;margin-left: 72pt;">
                <li style="margin-top: 5pt;margin-bottom: 5pt;">
                    <p style="margin-top: 5pt;margin-bottom: 5pt;">Job behavior: Choose one of the following job behaviors in relation to script completion:</p>
                    <ul style="padding-left: 0px;list-style-type: square;margin-left: 36pt;">
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Wait for the script to finish:&#160;With this option selected, the job will be in the “running” state until the script is completed.</p>
                        </li>
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Do not wait for the script to finish: With this option selected, the job will be completed even if the script execution is still in progress.</p>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul style="padding-left: 0px;list-style-type: circle;margin-left: 72pt;">
                <li style="margin-top: 5pt;margin-bottom: 5pt;">
                    <p style="margin-top: 5pt;margin-bottom: 5pt;">Error handling: Choose one of the following job behaviors in relation to script failure:</p>
                    <ul style="padding-left: 0px;list-style-type: square;margin-left: 36pt;">
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Continue the job on script failure:&#160;With this option selected, script failure will not influence the status of the job.</p>
                        </li>
                        <li style="margin-top: 5pt;margin-bottom: 5pt;">
                            <p style="margin-top: 5pt;margin-bottom: 5pt;">Fail the job on script failure:&#160;With this option selected, if the script fails, the job status will be set to “failed” even if VM recovery has been successful.</p>
                        </li>
                    </ul>
                </li>
            </ul>
        </ol>
        <h3>Transporters</h3>
        <p>By default, the product automatically determines which Transporter should be used to read data from the source VM. However, you can also specify manually which Transporters should be used for a job.</p>
        <p>From the Transporters drop-down list, select one of the following options:</p>
        <ul style="padding-left: 0px;list-style-type: circle;margin-left: 72pt;">
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Automatic selection: The product automatically determines which Transporters are the closest to source and target hosts.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Manual - configured for all VMs: Select this option to manually specify a single source and a single target Transporter to be used for data transfer by the job.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Manual - configured per cluster: Select this option to manually specify Transporters for all source and target clusters.</p>
            </li>
        </ul>
        <h3>Bandwidth Throttling</h3>
        <p>Please follow the steps below to regulate the speed of data transfer over the network for your recovery job:</p>
        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
            <li>
                <p>For the&#160;Bandwidth throttling&#160;option, choose&#160;Enabled.</p>
                <p>Note</p>
                <p>If bandwidth throttling is disabled for the current job, global bandwidth rules may still apply to your job. Refer to&#160;<a href="C:\display\NH\Bandwidth+Throttling">Bandwidth Throttling</a>&#160;for details.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">Click the settings&#160;link that becomes available.</p>
            </li>
            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                <p style="margin-top: 5pt;margin-bottom: 5pt;">The&#160;Job Bandwidth Rules&#160;dialog box opens displaying the list of available rules. You have the following options: </p>
                <ul style="padding-left: 0px;list-style-type: circle;margin-left: 36pt;">
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Create a new bandwidth rule for your recovery job: </p>
                        <ol style="padding-left: 0px;list-style-type: decimal;margin-left: 36pt;" start="1">
                            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                                <p style="margin-top: 5pt;margin-bottom: 5pt;">Click the&#160;Create New Rule&#160;button.</p>
                            </li>
                            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                                <p style="margin-top: 5pt;margin-bottom: 5pt;">The&#160;New Bandwidth Rule&#160;dialog box opens. Refer to the&#160;<a href="C:\display\NH\Bandwidth+Throttling">Bandwidth Throttling</a>&#160;topic for details on creating a bandwidth rule.</p>
                            </li>
                            <li style="margin-top: 5pt;margin-bottom: 5pt;">
                                <p style="margin-top: 5pt;margin-bottom: 5pt;">Click&#160;Save.</p>
                            </li>
                        </ol>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Activate an existing bandwidth rule for your job. Select the checkbox to the left of the necessary bandwidth rule. To deactivate a bandwidth rule for your job, deselect the corresponding checkbox.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Edit a bandwidth rule. Click the&#160;Edit&#160;link for a bandwidth rule and modify it in the&#160;Edit Bandwidth Rule&#160;dialog that opens.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 5pt;">
                        <p style="margin-top: 5pt;margin-bottom: 5pt;">Disable a bandwidth rule. Click the&#160;Disable&#160;link. The bandwidth rule will be disabled for all jobs.</p>
                    </li>
                    <li style="margin-top: 5pt;margin-bottom: 12pt;">
                        <p style="margin-top: 5pt;margin-bottom: 12pt;">Remove a bandwidth rule. Click the&#160;Remove&#160;link and then click&#160;Delete&#160;to confirm your operation.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+Nutanix+AHV_+Options/Recovery Job Wizard for Nutanix_2_2.png" style="visibility: visible;mso-wrap-style: square;width: 468px;height: 267px;" /></p>
                    </li>
                </ul>
            </li>
        </ol>
        <h2>Completing the New Recovery Job Wizard for Nutanix AHV</h2>
        <p>Click&#160;Finish&#160;or&#160;Finish &amp; Run&#160;to complete the job creation.</p>
        <p>Note</p>
        <p>If you click Finish &amp; Run, you will have to define the scope of your job. Refer to <a href="C:\display\NH\Running+Jobs+on+Demand">Running Jobs on Demand</a> for details.</p>
    </body>
</html>