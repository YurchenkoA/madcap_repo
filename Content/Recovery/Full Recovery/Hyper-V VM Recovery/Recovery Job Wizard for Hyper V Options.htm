<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/Hyper-V+VM+Recovery.css" rel="stylesheet" />
    </head>
    <body>
        <h1>Recovery Job Wizard for Hyper-V: Options</h1>
        <p>On the Options page, you can set up recovery options for the job.&#160;</p>
        <ul class="ul_1">
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Job">Job Options</a>
                </p>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Rec">Recovery Options</a>
                </p>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Pre">Pre and Post Job Actions</a> </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Set">Setting Up a Pre Job Script</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Set">Setting Up a Post Job Script</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Ema">Email Notifications</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Dat">Data Transfer</a> </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Tra">Transporter Load</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Ban">Bandwidth Throttling</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Recovery+Job+Wizard+for+Hyper-V_+Options.doc#RecoveryJobWizardforHyper-V:Options-Com">Completing the New Recovery Job Wizard for Microsoft Hyper-V</a>
                </p>
            </li>
        </ul>
        <h2>Job Options</h2>
        <p>In the Job Options section, specify the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Job name: Specify a name for the recovery job.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Network acceleration:&#160;When <a href="C:\display\NH\Network+Acceleration">network acceleration</a> is enabled, NAKIVO Backup &amp; Replication uses compression and traffic reduction techniques to speed up data transfer. Enable this option if you plan to recover VMs over WAN or slow LAN links.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Encryption&#160;When <a href="C:\display\NH\Encryption+in+Flight+and+at+Rest">encryption</a> is enabled, VM data is protected with AES 256 encryption while traveling over the network. Data encryption increases the backup time and CPU load on machines running Transporters. Select this option if recovering over WAN without a VPN connection.</p>
                <p>
                    <img src="../../../Resources/Images/Recovery+Job+Wizard+for+Hyper-V_+Options/Recovery Job Wizard for Hyper_2.png" class="img_5" />
                </p>
            </li>
        </ol>
        <h2>Recovery Options</h2>
        <p>In the Recovery Options section, specify the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Recovery mode:&#160;Choose one of the following: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Synthetic:&#160;With this recovery mode, the VMs are recovered with the environmental dependencies (such as CPU affinity) removed. Select this option when recovering VMs to a new location.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Production:&#160;With this recovery mode, environment dependencies will be preserved on the recovered VM(s). Make sure the location to which the VM(s) will be recovered does not contain the original VM(s), otherwise UUID and MAC address conflicts may occur.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1">Recovered VM names:&#160;Choose one of the following: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Append "-recovered" in the end: Source VM names are used for recovered VM names and “-recoverd” are added after the recovered VM name.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Leave recovered VM names as is: Recovered VM names are identical to the source VM names.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Enter custom recovered VM names: You can enter custom names for recovered VM.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1">VM disks:&#160;Choose one of the following: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Respect original VM disk type:&#160;When specified, disks that respect original VM disk type will be created on target VMs. Select this option to recover VMs to their original location.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Create only thin disks on target VMs: When specified, only thin disks will be created on target VMs. Use this option to save space on target datastore.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1">VM MAC addresses: Choose one of the following: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Do not generate new MAC addresses: When this option is chosen, the recovered VM will have the same MAC address as the source VM.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Generate new MAC addresses: When this option is chosen, a new MAC address will be generated for the recovered VM.</p>
                    </li>
                </ul>
            </li>
            <li class="li_3">
                <p class="p_3">VM power on: When the&#160;Power on recovered VMs&#160;option is chosen, the recovered VMs will be powered on.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+Hyper-V_+Options/Recovery Job Wizard for Hyper_2_1.png" class="img_5" /></p>
            </li>
        </ol>
        <h2>Pre and Post Job Actions</h2>
        <p>NAKIVO Backup &amp; Replication allows you to run a <a href="C:\display\NH\Pre+and+Post+Job+Scripts">script</a> before VM recovery begins (a pre-job script) and after the recovery of all VMs in the job has completed (a post-job script). The scripts can only be executed on the machine where the Director is installed. Also, you can set up email notifications to be sent to the specified recipients on job completion.&#160;</p>
        <h3>Setting Up a Pre Job Script</h3>
        <p>To run a script before the product begins recovering VMs, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Place a script file on the machine where the Director is installed.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Select the&#160;Run local pre job script&#160;option and click the&#160;settings&#160;link.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify the following parameters in the dialog box that opens: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Script path: Specify a local path to the script on the machine where the Director is installed. A script interpreter should be specified.&#160;<br />Example (Windows):&#160;cmd.exe /c D:\script.bat<span class="span_2"><br /></span>Example (Linux):&#160;bash /root/script.sh</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Job behavior: Choose one of the following job behaviors in relation to script completion: </p>
                        <ul class="ul_3">
                            <li class="li_1">
                                <p class="p_1">Wait for the script to finish:&#160;With this option selected, VM backup will only be started after the script is completed.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">Do not wait for the script to finish:&#160;With this option selected, the product will run the script and will start backing up VMs at the same time.</p>
                            </li>
                        </ul>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Error handling: Choose one of the following job behaviors in relation to script failure: </p>
                        <ul class="ul_3">
                            <li class="li_1">
                                <p class="p_1">Continue the job on script failure:&#160;With this option selected, the job will perform VM backup even if the script has failed.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">Fail the job on script failure:&#160;With this option selected, if the script fails, the job will be failed and VM backup will not be performed.</p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ol>
        <h3>Setting Up a Post Job Script</h3>
        <p>To run a script after the product has finished backing up all VMs, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Place a script file on the machine where the Director is installed.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Select the&#160;Run local post job script&#160;option and click the&#160;settings&#160;link.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify the following parameters in the dialog box that opens: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Script path: Specify a local path to the script on the machine where the Director is installed. A script interpreter should be specified.&#160;<br />Example (Windows):&#160;cmd.exe /c D:\script.bat<span class="span_2"><br /></span>Example (Linux):&#160;bash /root/script.sh</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Job behavior: Choose one of the following job behaviors in relation to script completion: </p>
                        <ul class="ul_3">
                            <li class="li_1">
                                <p class="p_1">Wait for the script to finish:&#160;With this option selected, the job will be in the “running” state until the script is completed.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">Do not wait for the script to finish:&#160;With this option selected, the job will be completed even if the script execution is still in progress.</p>
                            </li>
                        </ul>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Error handling: Choose one of the following job behaviors in relation to script failure: </p>
                        <ul class="ul_3">
                            <li class="li_1">
                                <p class="p_1">Continue the job on script failure:&#160;With this option selected, script failure will not influence the status of the job.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">Fail the job on script failure: With this option selected, if the script fails, the job status will be set to “failed” even if VM backup has been successful.</p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ol>
        <h3>Email Notifications</h3>
        <p>NAKIVO Backup &amp; Replication can send email notifications about job completion status to specified recipients. This feature complements&#160;<a href="C:\display\NH\Email+Notifications">global notifications</a>&#160;and allows you to configure notifications on a per-job level.&#160;To enable this option, make sure that&#160;<a href="C:\display\NH\Email+Notifications">Email settings&#160;</a>are configured.</p>
        <p>To send email notifications, do the following:</p>
        <ul class="ul_1">
            <li class="li_1">
                <p class="p_1">In the&#160;Pre and Post Actions&#160;section, select the&#160;Send job run reports to&#160;option</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify one or more email addresses in the text box. Use semicolons to separate multiple email addresses.</p>
            </li>
        </ul>
        <p>
            <img src="../../../Resources/Images/Recovery+Job+Wizard+for+Hyper-V_+Options/Recovery Job Wizard for Hyper_2_2.png" class="img_5" />
        </p>
        <h2>Data Transfer</h2>
        <p>In the Data Transfer section, specify the Transporter load for the recovery job and set up <a href="C:\display\NH\Bandwidth+Throttling">bandwidth throttling</a>.</p>
        <h3>Transporter Load</h3>
        <p>You can limit the maximum number of transporter tasks used by the job. By default, it is set to 3 concurrent tasks.</p>
        <p>To change the default number of tasks, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">&#160;Select the&#160;Limit transporter load to&#160;checkbox.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Specify the number of concurrent tasks in the corresponding box.</p>
            </li>
        </ol>
        <h3>Bandwidth Throttling</h3>
        <p>Please follow the steps below to regulate the speed of data transfer over the network for your recovery job:</p>
        <ol start="1" class="ol_1">
            <li>
                <p>For the&#160;Bandwidth throttling&#160;option, choose&#160;Enabled.</p>
                <p>Note</p>
                <p>If bandwidth throttling is disabled for the current job, global bandwidth rules may still apply to your job. Refer to&#160;<a href="C:\display\NH\Bandwidth+Throttling">Bandwidth Throttling</a>&#160;for details.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Click the settings&#160;link that becomes available.</p>
            </li>
            <li class="li_1">
                <p class="p_1">The&#160;Job Bandwidth Rules&#160;dialog box opens displaying you the list of available rules. You have the following options: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1">Create a new bandwidth rule for your recovery job: </p>
                        <ol start="1" class="ol_1">
                            <li class="li_1">
                                <p class="p_1">Click the&#160;Create New Rule&#160;button.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">The&#160;New Bandwidth Rule&#160;dialog box opens. Refer to <a href="C:\display\NH\Bandwidth+Throttling">Bandwidth Throttling</a>&#160;for details on creating a bandwidth rule.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1">Click&#160;Save.</p>
                            </li>
                        </ol>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Activate an existing bandwidth rule for your job. Select the checkbox to the left of the necessary bandwidth rule. To deactivate a bandwidth rule for your job, deselect the corresponding checkbox.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Edit a bandwidth rule. Click the&#160;Edit&#160;link for a bandwidth rule and modify it in the&#160;Edit Bandwidth Rule&#160;dialog box that opens.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Disable a bandwidth rule. Click the&#160;Disable&#160;link. The bandwidth rule will be disabled for all jobs.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">Remove a bandwidth rule. Click the&#160;Remove&#160;link and then click&#160;Delete&#160;to confirm your operation.<br /><br /><img src="../../../Resources/Images/Recovery+Job+Wizard+for+Hyper-V_+Options/Recovery Job Wizard for Hyper_2_3.png" class="img_6" /></p>
                    </li>
                </ul>
            </li>
        </ol>
        <h2>Completing the New Recovery Job Wizard for Microsoft Hyper-V</h2>
        <p>Click&#160;Finish&#160;or&#160;Finish &amp; Run&#160;to complete the job creation.</p>
        <p>Note</p>
        <p>If you click Finish &amp; Run, you will have to define the scope of your job. Please refer to <a href="C:\display\NH\Running+Jobs+on+Demand">Running Jobs on Demand</a> for details.</p>
        <p>&#160;</p>
    </body>
</html>