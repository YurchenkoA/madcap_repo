<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us">
    <head><title></title>
        <link href="../../../../Resources/Stylesheets/Creating+Hyper-V+Flash+VM+Boot+Jobs.css" rel="stylesheet" />
    </head>
    <body>
        <h1 class="Heading1">Hyper-V Flash Boot Job Wizard: Options</h1>
        <p class="NormalWeb">On the <span class="Strong">Options</span> page, set up job options as described in these sections:&#160;</p>
        <ul class="ul_1">
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-JobOp" class="Hyperlink">Job Options</a> </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-JobNa" class="Hyperlink">Job Name</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-VMVer" class="Hyperlink">VM Verification</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-Recov" class="Hyperlink">Recovered VM Options</a>
                </p>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-Prean" class="Hyperlink">Pre and Post Actions</a> </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-Setti" class="Hyperlink">Setting up Email Notifications for the Job</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-Setti" class="Hyperlink">Setting Up a Pre Job Script</a>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-Setti" class="Hyperlink">Setting Up a Post Job Scripts</a>
                        </p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-DataR" class="Hyperlink">Data Routing</a>
                </p>
            </li>
            <li class="li_1">
                <p class="p_1"><a href="file:///C:/Users/User/Downloads/Hyper-V+Flash+Boot+Job+Wizard_+Options.doc#Hyper-VFlashBootJobWizard:Options-Compl" class="Hyperlink">Completing the New Flash VM Boot Job Wizard</a>
                </p>
            </li>
        </ul>
        <h2 class="Heading2">Job Options</h2>
        <p class="NormalWeb">In this section, specify a job name and select the <a href="C:\display\NH\VM+Verification" class="Hyperlink">VM verification</a> type. Proceed as described below:</p>
        <h3 class="Heading3">Job Name</h3>
        <p class="NormalWeb">In the <span class="Emphasis">Job Options</span> section, enter the name for the job.</p>
        <h3 class="Heading3">VM Verification</h3>
        <p class="NormalWeb">VM Verification&#160;allows you to check the integrity of the backup by starting it and interacting with it.&#160;For more details, refer to the&#160;<a href="https://beta-helpcenter.nakivo.com/display/NH/VM+Verification"><span class="Hyperlink_1">VM Verification</span></a>&#160;article.&#160;</p>
        <p class="NormalWeb">You can choose one of the following VM verification options:&#160;</p>
        <ul class="ul_1">
            <li class="bullet1">
                <p class="bullet1"><span class="Strong">Screenshot verification</span>:&#160;When enabled, all VM backups created by the job will be verified as follows: After a backup of a VM is completed, the VM is recovered from the backup using Flash VM Boot (and is disconnected from networks), a screenshot of the recovered VM is taken once the VM OS has booted, after which the VM is discarded. VM screenshots will be included in email notifications (if they are&#160;<a href="https://beta-helpcenter.nakivo.com/display/NH/Email+Notifications"><span class="Hyperlink_1">configured</span></a>) and&#160;displayed on the&#160;<span class="Strong">Dashboard.</span></p>
            </li>
            <li class="li_1">
                <p class="p_1"><span class="Strong">Boot</span>&#160;<span class="Strong">verification</span>:&#160;When enabled, all VM backups created by the job will be verified as follows:&#160;After a VM backup is completed, NAKIVO Backup &amp; Replication recovers the VM using Flash VM Boot, disables networking to prevent network connections, and verifies successful system start<span class="span_1">.&#160;</span></p>
            </li>
        </ul>
        <p class="NormalWeb">If you select the&#160;<span class="Strong">Screenshot verification</span>&#160;option, provide verification options in the&#160;<span class="Strong">VM Boot Location</span>&#160;dialog box that opens:</p>
        <ul class="ul_1">
            <li class="NormalWeb">
                <p class="NormalWeb"><span class="Strong">Verify not more than x VMs simultaneously</span>: Specify the maximum number of VMs that can be started on the target container simultaneously.</p>
            </li>
            <li class="NormalWeb">
                <p class="NormalWeb"><span class="Strong">Recovery time objective</span>:&#160;Specify an amount of time allocated for verification of each VM backup. If the VM OS does not start within the specified amount of time, verification will be considered failed.</p>
            </li>
            <li class="auto-cursor-target">
                <p class="auto-cursor-target"><span class="Strong">Screenshot delay</span>: Specify an amount of time that the product should wait after a Guest OS start before&#160;taking&#160;a screenshot.</p>
            </li>
        </ul>
        <p class="title">Note</p>
        <p class="NormalWeb">The specified&#160;time must be sufficient to fully start the VM OS. Try increasing this amount if the default amount is not sufficient.</p>
        <p class="NormalWeb">After selecting&#160;<span class="Strong">Boot verification</span>, specify the verification options in the dialog box that opens:&#160;</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1"><span class="Strong">Verify not more than x VMs simultaneously</span>: Specify the maximum number of VMs that can be started on the target container simultaneously.&#160;</p>
            </li>
            <li class="li_1">
                <p class="p_1"><span class="Strong">Recovery time objective</span>: Specify the amount of time allocated for verification of each VM backup. If a VM OS does not start within the specified amount of time, verification will be considered failed.</p>
            </li>
        </ol>
        <p class="NormalWeb">
            <img src="../../../../Resources/Images/Hyper-V+Flash+Boot+Job+Wizard_+Options/Hyper V Flash Boot Job Wizard_2.png" class="img_6" />
        </p>
        <h2 class="Heading2">Recovered VM Options</h2>
        <p class="NormalWeb">In the <span class="Emphasis">Recovered VM Options</span> section, you can specify names for recovered VMs so that you can distinguish between the recovered VMs and the source VMs. Also, you can set up the VM MAC addresses option and choose to either power on or not the VM after recovery. Proceed the following way:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">In the <span class="Strong">Recovered VM names</span> list, choose one of the following: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Append “-recovered” in the end</span>: This is the default option. VM names are used for recovered VMs and “-recovered” is appended to the end of the name.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Leave recovered VM names as is</span>: Recovered VM names are identical to the source VM names.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Enter custom recovered VM names</span>: When selected, the <span class="Strong">Custom Recovered VM Names</span> box can be opened and you can enter a name for each VM to be recovered.</p>
                    </li>
                </ul>
            </li>
            <li class="li_1">
                <p class="p_1">Choose whether a new MAC address will be generated for the recovered VM. When you select&#160;<span class="Strong">Generate new MAC address in the VM MAC addresses</span>, a new MAC address is generated for each recovered VM. If you choose the <span class="Strong">Do not generate new MAC addresses</span> option, the recovered VMs will have the same MAC address as the source VMs.</p>
            </li>
            <li class="li_1">
                <p class="p_1">In addition, you can choose whether the recovered VMs will be powered on. In the <span class="Strong">VM power on</span> list, choose one of the following: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Power on recovered VMs</span>
                        </p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Do not power on recovered VMs</span>
                        </p>
                    </li>
                </ul>
            </li>
        </ol>
        <p class="NormalWeb_2">
            <img src="../../../../Resources/Images/Hyper-V+Flash+Boot+Job+Wizard_+Options/Hyper V Flash Boot Job Wizard_2_1.png" class="img_6" />
        </p>
        <h2 class="Heading2">Pre and Post Actions</h2>
        <p class="NormalWeb">NAKIVO Backup &amp; Replication allows you to <a href="C:\display\NH\Pre+and+Post+Job+Scripts" class="Hyperlink">run a script</a> before Flash VM boot begins (a pre-job script) and after the boot of all VMs in the job has completed (a post-job script). The scripts can be executed only on the machine where the Director is installed.&#160;</p>
        <h3 class="Heading3">Setting up Email Notifications for the Job</h3>
        <ol start="1" class="ol_1">
            <li class="NormalWeb">
                <p class="NormalWeb">NAKIVO Backup &amp; Replication can send job run reports via email to specified recipients on a per-job level. To send email notifications, do the following:</p>
                <ol start="1" class="ol_1">
                    <li class="li_1">
                        <p class="p_1">Select the&#160;<span class="Strong">Send job run reports to </span>checkbox.</p>
                    </li>
                    <li class="li_1">
                        <p class="p_1">The text box opens for editing next to the checkbox. Specify one or more email addresses in the text box. Use semicolons to separate multiple email addresses.</p>
                    </li>
                </ol>
            </li>
        </ol>
        <p class="title">Note</p>
        <p class="NormalWeb">By default, the text box contains email recipients that are specified in the&#160;<span class="Strong">Email notifications</span>&#160;section of the NAKIVO Backup &amp; Replication.</p>
        <h3 class="Heading3">Setting Up a Pre Job Script</h3>
        <p class="NormalWeb">To run a script before the product begins recovering VMs, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Place a script file on the machine where the Director is installed.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Select the&#160;<span class="Strong">Run local pre job script</span>&#160;option. In the&#160;<span class="Emphasis">Settings</span>&#160;dialog box that opens, specify the following parameters: </p>
                <ul class="ul_2">
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Script path</span>: Specify a local path to the script on the machine where the Director is installed. A script interpreter should be specified.&#160;<br /><span class="Strong">Example (Windows)</span>:&#160;<span class="Emphasis">cmd.exe /c D:\script.bat</span><span class="Emphasis"><br /></span><span class="Strong">Example (Linux)</span>:&#160;<span class="Emphasis">bash /root/script.sh</span></p>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Job behavior</span>: Choose one of the following job behaviors in relation to script completion: </p>
                        <ul class="ul_3">
                            <li class="li_1">
                                <p class="p_1"><span class="Strong">Wait for the script to finish</span>:<span class="Strong">&#160;</span>With this option selected, VM backup is started only after the script is completed.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1"><span class="Strong">Do not wait for the script to finish</span>:<span class="Strong">&#160;</span>With this option selected, the product runs the script and starts backing up VMs at the same time.</p>
                            </li>
                        </ul>
                    </li>
                    <li class="li_1">
                        <p class="p_1"><span class="Strong">Error handling</span>:<span class="Strong">&#160;</span>Choose one of the following job behaviors in relation to script failure: </p>
                        <ul class="ul_3">
                            <li class="li_1">
                                <p class="p_1"><span class="Strong">Continue the job on script failure</span>:<span class="Strong">&#160;</span>With this option selected, the job performs VM backup even if the script has failed.</p>
                            </li>
                            <li class="li_1">
                                <p class="p_1"><span class="Strong">Fail the job on script failure</span>:<span class="Strong">&#160;</span>With this option selected, if the script fails, the job is failed and VM backup will not be performed.</p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ol>
        <h3 class="Heading3">Setting Up a Post Job Scripts</h3>
        <p class="NormalWeb">To run a script after the product has finished recovering all VMs, do the following:</p>
        <ol start="1" class="ol_1">
            <li class="li_1">
                <p class="p_1">Place a script file on the machine where the Director is installed.</p>
            </li>
            <li class="li_1">
                <p class="p_1">Select the&#160;<span class="Strong">Run local post job script</span>&#160;option and in the <span class="Strong">settings</span> dialog box that opens, specify the parameters as described for pre-job scripts.</p>
            </li>
        </ol>
        <p class="NormalWeb">
            <img src="../../../../Resources/Images/Hyper-V+Flash+Boot+Job+Wizard_+Options/Hyper V Flash Boot Job Wizard_2_2.png" class="img_6" />
        </p>
        <h2 class="Heading2">Data Routing</h2>
        <p class="NormalWeb">If the Transporter assigned to the Backup Repository cannot use iSCSI port 3260 because it is occupied by other services, you can set data routing: A proxy Transporter can be used to forward the iSCSI target exposed from the Backup Repository to the target host.&#160;To set data routing, go to the <span class="Emphasis">Data routing</span> section and choose a proxy Transporter from the list of available Transporters.<br /><br /><img src="../../../../Resources/Images/Hyper-V+Flash+Boot+Job+Wizard_+Options/Hyper V Flash Boot Job Wizard_2_3.png" class="img_6" /></p>
        <h2 class="Heading2">Completing the New Flash VM Boot Job Wizard</h2>
        <p class="NormalWeb_1">Click&#160;<span class="Strong">Finish</span>&#160;or&#160;<span class="Strong">Finish &amp; Run</span>&#160;to complete the job creation.</p>
        <p class="title">Note</p>
        <p class="NormalWeb">If you click <span class="Strong">Finish &amp; Run</span>, you will have to define the scope of your job. Please refer to <a href="C:\display\NH\Running+Jobs+on+Demand" class="Hyperlink">Running Jobs on Demand</a> for details.</p>
    </body>
</html>